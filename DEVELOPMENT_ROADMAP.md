# Дорожная карта разработки оборудования ретрансляции фазовой синхронизации по Wi-Fi

## Общая информация

- **Продолжительность**: 8 месяцев
- **Количество опытных образцов**: 5 штук
- **Команда**: 8 специалистов
- **Бюджет**: 17,120,400 руб

## ⚠️ Важное примечание

**Разработка с нуля**: Согласно анализу технических требований, существующие проекты WiWi (RCB_WWVB_LORA и WiWi SDR) НЕ подходят для выполнения требований ТЗ. Требуется разработка принципиально новой платформы, специализированной для фазовой синхронизации по Wi-Fi с точностью ±300 нс.

**Ограниченное использование существующих проектов**:
- ✅ Базовая архитектура STM32H7 + FPGA
- ✅ Опыт команды в области embedded систем
- ❌ Прямое использование кода или схемотехники

## Детальный план по месяцам

### МЕСЯЦ 1: Архитектурное проектирование

#### Неделя 1-2: Системная архитектура
**Ответственные**: Ведущий инженер, Инженер-разработчик (2 чел.)

**Задачи:**
- [ ] Детальный анализ требований ТЗ (±300 нс точность)
- [ ] Создание технического задания на новую платформу
- [ ] Выбор архитектуры системы (Master/Slave модули)
- [ ] Выбор специализированных компонентов:
  - [ ] Wi-Fi 6E модули с поддержкой hardware timestamping
  - [ ] GNSS приемник с высокоточным PPS выходом
  - [ ] OCXO генератор ±0.05 ppm для PTP интерфейсов
  - [ ] STM32H7 микроконтроллер (опыт из WiWi проектов)
  - [ ] FPGA с поддержкой PTP hardware timestamping
- [ ] Проектирование интерфейсов между модулями
- [ ] Определение требований к антенным системам (2.4/5/6 ГГц MIMO 2x2)

**Результаты:**
- Техническое задание на разработку
- Системная архитектура
- Спецификация компонентов
- Блок-схемы системы

**Критерии готовности:**
- Утвержденная системная архитектура
- Выбранные поставщики компонентов
- Определены интерфейсы и протоколы

#### Неделя 3-4: Проектирование аппаратуры
**Ответственные**: Инженер по радиочастотам, Инженер-разработчик

**Задачи:**
- [ ] Проектирование схемотехники Master модуля
- [ ] Проектирование схемотехники Slave модуля
- [ ] Размещение компонентов на PCB
- [ ] Расчет тепловых режимов и вентиляции
- [ ] Проектирование антенных систем для 2.4/5/6 ГГц
- [ ] Проектирование корпусов и механических деталей
- [ ] Расчет ЭМС совместимости

**Результаты:**
- Принципиальные схемы Master/Slave модулей
- Макеты печатных плат
- 3D модели корпусов
- Спецификация антенн
- Техническое задание на механические детали

**Критерии готовности:**
- Готовы к производству печатные платы
- Утверждены механические чертежи
- Выбраны антенные системы

### МЕСЯЦ 2: Изготовление прототипов

#### Неделя 1-2: Заказ и поставка компонентов
**Ответственные**: Техник-сборщик, Ведущий инженер

**Задачи:**
- [ ] Размещение заказов на компоненты
- [ ] Заказ печатных плат (20 штук)
- [ ] Заказ антенных систем (15 штук)
- [ ] Заказ корпусов и механических деталей
- [ ] Подготовка рабочего места для сборки
- [ ] Подготовка измерительного оборудования

**Результаты:**
- Заказанные компоненты
- Изготовленные печатные платы
- Готовое рабочее место

#### Неделя 3-4: Сборка прототипов
**Ответственные**: Техник-сборщик, Инженер-разработчик

**Задачи:**
- [ ] Сборка 5 опытных образцов Master модулей
- [ ] Сборка 5 опытных образцов Slave модулей
- [ ] Первичное тестирование собранных модулей
- [ ] Измерение базовых параметров
- [ ] Документирование процесса сборки

**Результаты:**
- 5 опытных образцов Master модулей
- 5 опытных образцов Slave модулей
- Отчеты о первичном тестировании
- Документация по сборке

**Критерии готовности:**
- Все образцы собраны и протестированы
- Измерены базовые электрические параметры
- Документирован процесс сборки

### МЕСЯЦ 3: Отладка аппаратуры

#### Неделя 1-2: Отладка схемотехники
**Ответственные**: Инженер-разработчик, Инженер по радиочастотам

**Задачи:**
- [ ] Отладка питания и стабилизации напряжений
- [ ] Тестирование интерфейсов (SPI, I2C, UART)
- [ ] Отладка Wi-Fi модулей
- [ ] Тестирование GNSS приемника
- [ ] Калибровка OCXO генератора
- [ ] Измерение характеристик антенн

**Результаты:**
- Отлаженная схемотехника
- Измеренные характеристики компонентов
- Отчеты о тестировании

#### Неделя 3-4: Системная интеграция аппаратуры
**Ответственные**: Ведущий инженер, все инженеры

**Задачи:**
- [ ] Интеграция всех подсистем
- [ ] Тестирование взаимодействия модулей
- [ ] Измерение ЭМС характеристик
- [ ] Тепловое тестирование
- [ ] Исправление выявленных проблем
- [ ] Подготовка к программной разработке

**Результаты:**
- Полностью отлаженная аппаратура
- Отчеты о системном тестировании
- Готовность к программной разработке

**Критерии готовности:**
- Все модули работают стабильно
- Измерены все ключевые параметры
- Готовы к загрузке программного обеспечения

### МЕСЯЦ 4: Базовое программное обеспечение

#### Неделя 1-2: Разработка базового ПО с нуля
**Ответственные**: Программист встраиваемых систем (2 чел.)

**Задачи:**
- [ ] Анализ архитектуры WiWi проектов (только для понимания)
- [ ] Разработка новой системы инициализации для STM32H7
- [ ] Создание драйверов для специализированных компонентов
- [ ] Реализация системы управления питанием и тактированием
- [ ] Создание базовых тестовых программ
- [ ] Разработка системы диагностики и мониторинга

**Результаты:**
- Новая базовая прошивка
- Система инициализации
- Базовые тестовые программы
- Система диагностики

#### Неделя 3-4: Драйверы периферии
**Ответственные**: Программист встраиваемых систем, Программист FPGA

**Задачи:**
- [ ] Драйвер Wi-Fi 6E модулей с поддержкой hardware timestamping
- [ ] Драйвер GNSS приемника с высокоточным PPS
- [ ] Драйвер OCXO генератора ±0.05 ppm
- [ ] Драйвер SFP/SFP+ портов с PTP поддержкой
- [ ] Драйверы FPGA для hardware timestamping
- [ ] Система мониторинга и диагностики
- [ ] Драйверы антенных переключателей (2.4/5/6 ГГц)

**Результаты:**
- Полные драйверы всех специализированных компонентов
- Система мониторинга и диагностики
- Базовая прошивка для новой платформы

**Критерии готовности:**
- Все компоненты управляются программно
- Работает базовая диагностика
- Готовы к реализации PTP

### МЕСЯЦ 5: PTP G.8275.1 реализация

#### Неделя 1-2: Протокол PTP
**Ответственные**: Программист встраиваемых систем, Ведущий инженер

**Задачи:**
- [ ] Изучение стандарта IEEE 1588-2008
- [ ] Изучение профиля G.8275.1 для телекоммуникаций
- [ ] Реализация базового протокола PTP с нуля
- [ ] Реализация сообщений Sync, Delay_Req, Delay_Resp, Follow_Up
- [ ] Алгоритм Best Master Clock (BMC)
- [ ] Реализация PTP State Machine
- [ ] Реализация Boundary Clock функциональности

**Результаты:**
- Базовая реализация PTP протокола
- Работающие PTP сообщения
- Алгоритм выбора Master

#### Неделя 3-4: Hardware timestamping и синхронизация
**Ответственные**: Программист FPGA, Программист встраиваемых систем

**Задачи:**
- [ ] Реализация hardware timestamping в FPGA
- [ ] Интерфейс timestamping между FPGA и STM32
- [ ] Алгоритмы фазовой синхронизации для достижения ±300 нс
- [ ] Компенсация задержек в Wi-Fi сети
- [ ] Алгоритм Holdover при потере сигнала
- [ ] Автономная компенсация задержек (autonomous delay compensation)
- [ ] Тестирование точности синхронизации

**Результаты:**
- Работающий hardware timestamping
- Алгоритмы синхронизации для ±300 нс
- Достигнута требуемая точность синхронизации

**Критерии готовности:**
- PTP работает по стандарту G.8275.1
- Hardware timestamping функционирует
- Достигнута требуемая точность

### МЕСЯЦ 6: Wi-Fi и сетевая интеграция

#### Неделя 1-2: Wi-Fi 6E реализация
**Ответственные**: Инженер по радиочастотам, Программист встраиваемых систем

**Задачи:**
- [ ] Настройка Wi-Fi 6E модулей для работы в 2.4/5/6 ГГц
- [ ] Реализация MIMO 2x2 для каждого диапазона
- [ ] Алгоритм быстрого переключения между диапазонами (< 200 мс)
- [ ] Обработка нестабильности модуляции Wi-Fi
- [ ] Оптимизация антенных переключателей
- [ ] Интеграция Wi-Fi с PTP hardware timestamping
- [ ] Тестирование дальности связи с сохранением точности

**Результаты:**
- Работающий Wi-Fi 6E с PTP поддержкой
- Алгоритм переключения диапазонов
- Измеренные характеристики связи

#### Неделя 3-4: Сетевая интеграция и управление
**Ответственные**: Программист встраиваемых систем, Ведущий инженер

**Задачи:**
- [ ] Интеграция Wi-Fi 6E с PTP G.8275.1
- [ ] Реализация сетевых интерфейсов (Ethernet, Wi-Fi)
- [ ] Web-интерфейс управления
- [ ] SNMP интерфейс для телекоммуникационного оборудования
- [ ] Система мониторинга и аварийной сигнализации
- [ ] Мониторинг фазовых отклонений PTP (Minor/Major/Critical)
- [ ] Система обновления прошивки

**Результаты:**
- Полная сетевая интеграция Wi-Fi + PTP
- Система управления телекоммуникационным оборудованием
- Мониторинг и диагностика синхронизации

**Критерии готовности:**
- Wi-Fi работает во всех диапазонах
- Реализована система управления
- Готово к системному тестированию

### МЕСЯЦ 7: Системная интеграция

#### Неделя 1-2: Интеграция подсистем
**Ответственные**: Ведущий инженер, все разработчики

**Задачи:**
- [ ] Интеграция всех подсистем в единую систему
- [ ] Тестирование взаимодействия Master/Slave
- [ ] Оптимизация производительности
- [ ] Отладка взаимодействий между модулями
- [ ] Тестирование в различных конфигурациях
- [ ] Измерение системных характеристик

**Результаты:**
- Интегрированная система
- Отчеты о системном тестировании
- Оптимизированное ПО

#### Неделя 3-4: Лабораторное тестирование
**Ответственные**: Тестировщик, все разработчики

**Задачи:**
- [ ] Комплексное тестирование системы
- [ ] Измерение точности синхронизации
- [ ] Тестирование стабильности
- [ ] Стресс-тестирование
- [ ] Тестирование отказоустойчивости
- [ ] Подготовка к полевым испытаниям

**Результаты:**
- Полные отчеты о тестировании
- Готовность к полевым испытаниям
- Документация по эксплуатации

**Критерии готовности:**
- Система работает стабильно
- Достигнуты все требования ТЗ
- Готово к полевым испытаниям

### МЕСЯЦ 8: Финальное тестирование

#### Неделя 1-2: Полевые испытания
**Ответственные**: Тестировщик, Ведущий инженер, представители заказчика

**Задачи:**
- [ ] Установка системы в полевых условиях
- [ ] 24-часовое непрерывное тестирование (требование ТЗ)
- [ ] Тестирование в условиях помех и многолучевости
- [ ] Тестирование дальности Wi-Fi связи с сохранением точности
- [ ] Измерение точности синхронизации ±300 нс в реальных условиях
- [ ] Интеграция с оборудованием заказчика
- [ ] Тестирование в различных конфигурациях транспортной сети

**Результаты:**
- Отчеты о полевых испытаниях
- Измеренные характеристики в реальных условиях
- Подтверждение соответствия всем требованиям ТЗ

#### Неделя 3-4: Документирование и сдача
**Ответственные**: Ведущий инженер, все разработчики

**Задачи:**
- [ ] Финальная документация
- [ ] Руководства пользователя
- [ ] Техническая документация
- [ ] Подготовка к серийному производству
- [ ] Обучение персонала заказчика
- [ ] Передача результатов

**Результаты:**
- Полная техническая документация
- Готовность к серийному производству
- Обученный персонал заказчика

**Критерии готовности:**
- Все требования ТЗ выполнены
- Система готова к эксплуатации
- Полная документация передана

## Ключевые вехи проекта

| Месяц | Ключевая веха | Критерии успеха |
|-------|---------------|-----------------|
| 1 | Архитектура утверждена | Готовы чертежи и спецификации |
| 2 | Прототипы собраны | 5 рабочих образцов |
| 3 | Аппаратура отлажена | Все модули работают стабильно |
| 4 | Базовое ПО готово | Все компоненты управляются |
| 5 | PTP реализован | Точность ±300 нс достигнута |
| 6 | Wi-Fi работает | Все диапазоны функционируют |
| 7 | Система интегрирована | Все подсистемы работают вместе |
| 8 | Проект завершен | Соответствие всем требованиям ТЗ |

## Управление рисками

### Критические риски по месяцам

**Месяц 1-2**: Задержка поставки специализированных компонентов
- **Риск**: Wi-Fi 6E модули, OCXO генераторы, GNSS приемники
- **Митигация**: Параллельные поставщики, резервные варианты, ранние заказы

**Месяц 3-4**: Сложность отладки новой аппаратуры
- **Риск**: Hardware timestamping, высокоточные генераторы
- **Митигация**: Раннее тестирование, консультации с поставщиками

**Месяц 5**: Достижение точности PTP G.8275.1 ±300 нс
- **Риск**: Сложность алгоритмов синхронизации
- **Митигация**: Использование проверенных алгоритмов, консультации экспертов

**Месяц 6**: Wi-Fi 6E сложность и интеграция с PTP
- **Риск**: Hardware timestamping в Wi-Fi, переключение диапазонов
- **Митигация**: Раннее тестирование модулей, техническая поддержка

**Месяц 7-8**: Интеграционные проблемы и соответствие ТЗ
- **Риск**: Комплексная интеграция всех подсистем
- **Митигация**: Поэтапная интеграция, раннее тестирование

## Ресурсы и команда

### Состав команды
- **Ведущий инженер**: Общее руководство, архитектура
- **Инженер-разработчик (2)**: Аппаратное проектирование
- **Инженер по радиочастотам**: Wi-Fi, антенны, ЭМС
- **Программист FPGA**: Цифровая обработка сигналов
- **Программист встраиваемых систем (2)**: ПО микроконтроллера
- **Тестировщик**: Тестирование и валидация
- **Техник-сборщик**: Сборка прототипов

### Необходимое оборудование
- Рабочие места для разработки
- Измерительное оборудование (осциллографы, анализаторы спектра)
- Стенды для тестирования
- 3D принтер для прототипов корпусов
- Паяльные станции
- Компьютеры для разработки

---

*Дорожная карта составлена с учетом требований ТЗ и опыта существующих проектов WiWi.*
