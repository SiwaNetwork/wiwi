# WiWi - Универсальная SDR платформа

## Описание

WiWi - это универсальная программно-определяемая радиосистема (SDR), предназначенная для исследований, разработки и тестирования радиотехнических систем. Платформа поддерживает широкий спектр приложений от базовых радиосистем до сложных SDR решений.

## Основные возможности

### Программно-определяемое радио (SDR)
- Полнодуплексная передача и прием I/Q данных
- Поддержка частот от 70 МГц до 6 ГГц
- Пропускная способность до 20 МГц
- Реализация в FPGA для высокопроизводительной обработки

### Многодиапазонная поддержка
- **Sub-GHz диапазон** (70-1020 МГц)
- **WiFi диапазон** (2.4-2.5 ГГц)
- **Сотовые диапазоны** (700 МГц - 2.7 ГГц)
- **Микроволновые диапазоны** (до 6 ГГц)

### Высокоскоростные интерфейсы
- **Ethernet** - подключение к компьютерным сетям
- **QSPI** - высокоскоростной доступ к памяти
- **USB** - интерфейс с ПК
- **WiFi** - беспроводное подключение через ESP32

## Аппаратная архитектура

### Микроконтроллер
- **STM32H7** - высокопроизводительный ARM Cortex-M7
- Частота: до 480 МГц
- Память: до 1 МБ SRAM, 2 МБ Flash
- Поддержка множественных DMA каналов

### Радиочастотные модули
- **AT86RF215IQ** - двойной SDR трансивер
  - RF09: 70-1020 МГц (Sub-GHz)
  - RF24: 2.4-2.5 ГГц (WiFi/Bluetooth)
- **SX1276** - LoRa трансивер для управления
- Высокая чувствительность и селективность

### FPGA обработка
- **ECP5** - современная FPGA Lattice
- Высокая производительность для DSP операций
- Программируемые PLL и фильтры
- Прямой доступ к I/Q данным

### Система тактирования
- **ClockMatrix** - высокоточная система синхронизации
- Программируемые генераторы частот
- Фазовые детекторы и петли фазовой автоподстройки
- Поддержка внешних референсов

## Структура проекта

### SDR/V4/WiWi_SDR/
Основной код прошивки:
- `WiWi_SDR.ino` - главный файл прошивки
- `at86rf215iq.h/.cpp` - драйвер SDR трансивера
- `fpga.h/.cpp` - управление ECP5 FPGA
- `clockmatrix.h/.cpp` - система тактирования
- `esp32.h/.cpp` - управление WiFi модулем
- `my_ethernet.h/.cpp` - Ethernet интерфейс
- `spi_iq.h/.cpp` - обработка I/Q данных

### SDR/V4/ECP5_Test/
FPGA прошивка для ECP5:
- `top.v` - основной модуль системы
- `at86rf215iq.v` - интерфейс с радиомодулем
- `filter.v` - цифровые фильтры
- `pll_10MHzInput/` - PLL для входной частоты
- `fifo_*` - FIFO буферы для данных

### ESP/Common_Arduino/
ESP32 код для WiFi функций:
- `Common_Arduino.ino` - прошивка ESP32
- Поддержка WiFi сканирования
- Веб-интерфейс для управления

## Принцип работы

### SDR приемопередача
1. **Антенный вход** - сигнал поступает на AT86RF215IQ
2. **Смешение частот** - преобразование в I/Q данные
3. **Цифровизация** - АЦП с высокой разрядностью
4. **FPGA обработка** - фильтрация, демодуляция
5. **Передача данных** - через Ethernet/USB в ПК

### Система управления
- **CLI интерфейс** - командная строка для управления
- **Меню навигация** - иерархическое меню настроек
- **Автоматическая настройка** - самонастройка параметров
- **Мониторинг** - отслеживание состояния системы

### Приложения
- **Анализатор спектра** - в реальном времени
- **Генератор сигналов** - произвольные формы сигналов
- **Модем** - различные протоколы связи
- **Сканер частот** - поиск активных каналов

## Интерфейсы и подключения

### Радиочастотные
- **SMA разъемы** - для антенн
- **UFL разъемы** - для компактных антенн
- **Переключатели** - выбор диапазонов

### Цифровые
- **Ethernet RJ45** - сетевое подключение
- **USB-C** - подключение к ПК
- **UART** - последовательная связь
- **I2C/SPI** - управление периферией

### Питание
- **5-12 В** - внешнее питание
- **USB питание** - от ПК
- **Энергосбережение** - различные режимы

## Программное обеспечение

### Host приложения
- **GNU Radio** - для SDR обработки
- **MATLAB/Simulink** - для алгоритмов
- **Python** - для автоматизации
- **C++** - для высокопроизводительных приложений

### Драйверы
- **USB драйвер** - для прямого доступа
- **Ethernet протокол** - для сетевого доступа
- **API библиотеки** - для разработки

## Применение

### Образование и исследования
- **Радиотехника** - изучение принципов радиосвязи
- **DSP** - цифровая обработка сигналов
- **Протоколы связи** - изучение стандартов
- **Антенная техника** - измерение характеристик

### Разработка
- **Прототипирование** - быстрая разработка
- **Тестирование** - проверка алгоритмов
- **Отладка** - анализ сигналов
- **Валидация** - проверка стандартов

### Коммерческое применение
- **IoT устройства** - разработка датчиков
- **Телекоммуникации** - тестирование оборудования
- **Безопасность** - анализ радиосигналов
- **Мониторинг** - контроль спектра

## Технические характеристики

### Радиочастотные параметры
- **Частотный диапазон**: 70 МГц - 6 ГГц
- **Полоса пропускания**: до 20 МГц
- **Динамический диапазон**: >80 дБ
- **Фазовый шум**: <-120 дБс/Гц @ 10 кГц

### Цифровая обработка
- **Разрядность АЦП**: 12 бит
- **Частота дискретизации**: до 40 МГц
- **FPGA логика**: 85K LUT
- **Память FPGA**: 4 Мбит

### Интерфейсы
- **Ethernet**: 100/1000 Мбит/с
- **USB**: USB 2.0 High Speed
- **Питание**: 5-12 В, до 10 Вт

## Разработка и отладка

### CLI команды
- Навигация по меню системы
- Настройка радиопараметров
- Мониторинг состояния
- Калибровка системы

### Диагностика
- Проверка соединений
- Тестирование каналов
- Измерение характеристик
- Логирование событий

## Лицензия

Проект распространяется под лицензией, указанной в корневом каталоге репозитория.
